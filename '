import random

class Hero:
	def __init__(self, name, health=100):
		self.name = name
		self.abilities = list()
		self.armors = list()
		self.start_health = health
		self.health = health
		self.deaths = 0
		self.kills = 0

	def add_ability(self, ability):
		self.abilities.append(ability)
	
	def attack(self):
		total = 0
		for i in self.abilities:
			total += i.attack()
		return total

	def defend(self):
		total = 0
		for i in self.armors:
			total += i.defend()
		return total

	def take_damage(self, damage_amt):
		self.health -= damage_amt
		if self.health < 0:
			self.deaths += 1
		return self.deaths

	def add_kill(self, num_kills):
		self.kills += num_kills

class Abilities:
	def __init__(self, name, strength):
		self.name = name
		self.strength = strength

	def attack(self):
		low = self.strength // 2
		return random.randint(low, self.strength)

	def update_attack(self, attack_strenght):
		self.strength = attack_strength

class Weapon(Abilities):
	def attack(self):
		return random.randint(0, self.strength)

class Armor:
	def __init__(self, name, defense):
		self.name = name
		self.defense = defense

	def defend(self):
		return random.randint(0, defense)

class Team:
	def __init__(self, team_name):
		self.name = team_name
		self.heroes = list()

	def add_hero(self, Hero):
		self.heroes.append(Hero)

	def remove_hero(self, name):
		self.heroes.remove(name)

	def find_hero(self, name):
		for i in self.heroes:
			if i == name:
				return i
		return 0

	def view_all_heroes(self):
		for i in self.heroes:
			print(i.name)

	def attack(self, other_team):
		total_attack = 0
		for i in self.heroes:
			total_attack += i.attack()
		other_team.defend(total_attack)
	
	def deal_damage(self, damage):
		damage = damage / len(self.heroes)
		for i in self.heroes:
			i.take_damage(damage)

	def defend(self, damage_amt):
		total_defense = 0
		for i in self.heroes:
			total_defense += i.defend()
		damage_amt -= total_defense
		if damage_amt > 0:
			self.deal_damage(damage_amt)

	def revive_heroes(self, health=100):
		for i in self.heroes:
			i.health = health

	def stats(self):
		for i in self.heroes:
			print(i.name + " K/D: " + str(i.kills) + "/" + str(i.deaths))
		

if __name__ == "__main__":
	hero = Hero("Wonder Woman")
	hero2 = Hero("Super Guy")
	print(hero.attack())
	ability = Abilities("Poop Punch", 800)
	hero.add_ability(ability)
	hero2.add_ability(ability)
	print(hero.attack())
	new_ability = Abilities("Ultra Fart", 1000)
	hero.add_ability(new_ability)
	weapon = Weapon("Butt Lazer", 200)
	print(hero.attack())
	hero.add_ability(weapon)
	hero2.add_ability(weapon)
	print(hero.attack())
	print(weapon.attack())
	team = Team("Smelly Heroes")
	team2 = Team("Lame Guys")
	team.add_hero(hero)
	team2.add_hero(hero2)
	#team.view_all_heroes()
	team2.attack(team)
	team2.stats()
